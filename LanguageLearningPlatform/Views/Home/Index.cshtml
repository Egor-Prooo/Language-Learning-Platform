@{
    ViewData["Title"] = "Home";
    var featuredCourses = ViewBag.FeaturedCourses as List<LanguageLearningPlatform.Data.Models.Course>;
    var isAuthenticated = User.Identity?.IsAuthenticated == true;
}

<!-- Hero Section -->
<div class="hero-section">
    <div class="container hero-content">
        <div class="row align-items-center">
            <div class="col-lg-7">
                <h1 class="hero-title">Learn Languages with Confidence</h1>
                <p class="hero-subtitle">
                    Master new languages through interactive lessons, personalized practice, and expert guidance.
                    Start your journey today!
                </p>
                <div class="d-flex gap-3 flex-wrap">
                    <a asp-controller="Courses" asp-action="Index" class="btn btn-custom-primary btn-lg">
                        <i class="fas fa-rocket me-2"></i>Explore Courses
                    </a>
                    @if (!isAuthenticated)
                    {
                        <a asp-area="Identity" asp-page="/Account/Register" class="btn btn-custom-secondary btn-lg">
                            <i class="fas fa-user-plus me-2"></i>Sign Up Free
                        </a>
                    }
                </div>
            </div>
            <div class="col-lg-5 text-center mt-4 mt-lg-0">
                <i class="fas fa-globe" style="font-size: 12rem; opacity: 0.2;"></i>
            </div>
        </div>
    </div>
</div>

<!-- Features Section - Why Choose LingoLearn -->
<div class="container my-5">
    <div class="text-center mb-5">
        <h2 class="display-5 fw-bold">Why Choose LingoLearn?</h2>
        <p class="lead text-secondary">The ultimate blend of academic excellence, game mechanics, and social learning</p>
    </div>

    <div class="row g-4">
        <div class="col-md-6 col-lg-3">
            <div class="text-center p-4">
                <div class="mb-3" style="font-size: 3rem; color: var(--primary-color);">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <h4>Expert-Designed Courses</h4>
                <p class="text-secondary">Learn from structured academic lessons created by language professionals and native speakers, combined with engaging interactive exercises.</p>
            </div>
        </div>

        <div class="col-md-6 col-lg-3">
            <div class="text-center p-4">
                <div class="mb-3" style="font-size: 3rem; color: var(--accent-color);">
                    <i class="fas fa-gamepad"></i>
                </div>
                <h4>Gamified Learning</h4>
                <p class="text-secondary">Unlike traditional platforms, we combine serious academic content with game mechanics—earn points, unlock achievements, and compete on leaderboards while mastering new languages.</p>
            </div>
        </div>

        <div class="col-md-6 col-lg-3">
            <div class="text-center p-4">
                <div class="mb-3" style="font-size: 3rem; color: var(--secondary-color);">
                    <i class="fas fa-users"></i>
                </div>
                <h4>Community & Practice</h4>
                <p class="text-secondary">Connect with fellow learners, participate in discussion forums, and get real practical speaking experience through our interactive community features.</p>
            </div>
        </div>

        <div class="col-md-6 col-lg-3">
            <div class="text-center p-4">
                <div class="mb-3" style="font-size: 3rem; color: var(--primary-color);">
                    <i class="fas fa-chart-line"></i>
                </div>
                <h4>Track Your Success</h4>
                <p class="text-secondary">Monitor your improvement with detailed analytics, progress tracking, and personalized insights that help you stay motivated and focused.</p>
            </div>
        </div>
    </div>
</div>

<!-- Featured Courses Section -->
@if (featuredCourses != null && featuredCourses.Any())
{
    <div class="container my-5">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold">Popular Courses</h2>
            <p class="lead text-secondary">Start learning with our most popular courses</p>
        </div>

        <div class="row g-4">
            @foreach (var course in featuredCourses)
            {
                <div class="col-md-4">
                    <div class="course-card">
                        <div class="course-card-image">
                            @switch (course.Language.ToLower())
                            {
                                case "spanish":
                                    <i class="fas fa-language"></i>
                                    break;
                                case "french":
                                    <i class="fas fa-flag"></i>
                                    break;
                                case "german":
                                    <i class="fas fa-book"></i>
                                    break;
                                case "japanese":
                                    <i class="fas fa-yen-sign"></i>
                                    break;
                                default:
                                    <i class="fas fa-globe"></i>
                                    break;
                            }
                        </div>
                        <div class="course-card-body">
                            <span class="course-level-badge level-@(course.Level.ToLower())">
                                @course.Level
                            </span>
                            <h3 class="course-title">@course.Title</h3>
                            <p class="course-language">
                                <i class="fas fa-globe me-1"></i> @course.Language
                            </p>
                            <p class="course-description">@course.Description</p>
                            <div class="course-meta">
                                <span>
                                    <i class="fas fa-book-open me-1"></i>
                                    @course.Lessons.Count Lessons
                                </span>
                                <span>
                                    <i class="fas fa-users me-1"></i>
                                    @course.Enrollments.Count Students
                                </span>
                            </div>
                            <div class="mt-3">
                                <a asp-controller="Courses" asp-action="Details" asp-route-id="@course.Id"
                                   class="btn btn-enroll w-100">
                                    <i class="fas fa-eye me-2"></i>View Course
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>

        <div class="text-center mt-4">
            <a asp-controller="Courses" asp-action="Index" class="btn btn-outline-primary btn-lg">
                <i class="fas fa-th me-2"></i>View All Courses
            </a>
        </div>
    </div>
}

<!-- User Stats Section (if authenticated) -->
@if (isAuthenticated)
{
    <div class="container my-5">
        <div class="text-center mb-4">
            <h3 class="fw-bold">Your Learning Journey</h3>
            <p class="text-secondary">Keep up the great work!</p>
        </div>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="stat-card">
                    <div class="stat-icon success">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <div class="stat-value">@ViewBag.UserTotalPoints</div>
                    <div class="stat-label">Total Points</div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="stat-card">
                    <div class="stat-icon primary">
                        <i class="fas fa-book"></i>
                    </div>
                    <div class="stat-value">@ViewBag.UserEnrolledCourses</div>
                    <div class="stat-label">Enrolled Courses</div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="stat-card">
                    <div class="stat-icon warning">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="stat-value">@ViewBag.UserCompletedLessons</div>
                    <div class="stat-label">Completed Lessons</div>
                </div>
            </div>
        </div>
    </div>
}

<!-- Platform Stats Section -->
<div class="container my-5">
    <div class="text-center mb-4">
        <h3 class="fw-bold">Join Our Growing Community</h3>
        <p class="text-secondary">Thousands of learners are already improving their language skills</p>
    </div>
    <div class="row g-4">
        <div class="col-md-4">
            <div class="stat-card fade-in-up">
                <div class="stat-icon primary">
                    <i class="fas fa-book-open"></i>
                </div>
                <div class="stat-value">@(ViewBag.TotalCourses ?? 50)+</div>
                <div class="stat-label">Language Courses</div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="stat-card fade-in-up" style="animation-delay: 0.1s;">
                <div class="stat-icon success">
                    <i class="fas fa-users"></i>
                </div>
                <div class="stat-value">@(ViewBag.TotalUsers ?? 100)+</div>
                <div class="stat-label">Active Learners</div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="stat-card fade-in-up" style="animation-delay: 0.2s;">
                <div class="stat-icon warning">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <div class="stat-value">@(ViewBag.TotalLessons ?? 500)+</div>
                <div class="stat-label">Total Lessons</div>
            </div>
        </div>
    </div>
</div>

<!-- CTA Section -->
<div class="container my-5">
    <div class="hero-section" style="border-radius: 2rem; padding: 4rem 2rem;">
        <div class="text-center">
            <h2 class="display-6 fw-bold mb-3">Ready to Start Your Learning Journey?</h2>
            <p class="lead mb-4">Join thousands of learners mastering new languages every day</p>
            @if (isAuthenticated)
            {
                <a asp-controller="Courses" asp-action="MyCourses" class="btn btn-custom-primary btn-lg">
                    <i class="fas fa-bookmark me-2"></i>Continue Learning
                </a>
            }
            else
            {
                <a asp-controller="Courses" asp-action="Index" class="btn btn-custom-primary btn-lg">
                    <i class="fas fa-play-circle me-2"></i>Get Started Now
                </a>
            }
        </div>
    </div>
</div>